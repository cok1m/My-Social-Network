{"version":3,"sources":["Components/hoc/withAuthRedirect.js","Redux/dialogsReducer.js","assets/preloader.gif","Components/common/Preloader/Preloader.module.css","Components/Navbar/Navbar.module.css","Redux/api/api.js","serviceWorker.js","Components/Music/Music.jsx","Components/News/News.jsx","Components/Options/Options.jsx","Components/Navbar/Navbar.jsx","Components/common/Paginator/Paginator.jsx","Components/Users/User.jsx","Components/Users/Users.jsx","Redux/usersReducer.js","Redux/UsersSelectors.js","Components/Users/UsersContainer.jsx","Components/Header/Header.jsx","Redux/authReducer.js","Components/Header/HeaderContainer.jsx","Components/Login/Login.jsx","Components/Login/LoginContainer.jsx","Redux/appReducer.js","Redux/navbarReducer.js","Redux/sidebarReducer.js","Redux/redux-store.js","Components/hoc/withSuspense.js","App.js","index.js","Components/common/Preloader/Preloader.jsx","Components/FormsControl/FormsControl.module.css","Components/Header/Header.module.css","utilities/validators.js","Components/common/Paginator/Paginator.module.css","Components/Users/user.module.css","Components/FormsControl/FormsControl.jsx","Redux/profileReducer.js","assets/avatar.png"],"names":["mapStateToProps","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","SEND_MESSAGE","initialState","messages","id","message","dialogs","name","sendMessage","newMessageBody","type","dialogsReducer","action","module","exports","axios","Axios","create","baseURL","withCredentials","headers","usersAPI","getUsers","a","currentPage","pageSize","get","response","data","follow","userId","post","unfollow","delete","profileAPI","getProfile","getStatus","updateStatus","status","put","authAPI","authMe","login","email","password","rememberMe","logout","Boolean","window","location","hostname","match","Music","News","Options","Navbar","className","styles","nav","item","activeClassName","activeLink","Paginator","onPageChanged","totalItemsCount","portionSize","pages","pagesCount","Math","ceil","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","paginator","onClick","filter","page","map","key","selectedPage","User","user","followingInProgress","userProfile","avatar","src","photos","small","userPhoto","alt","followed","disabled","some","description","Users","isFetching","users","Preloader","followSuccess","unfollowSuccess","setCurrentPage","setTotalItemsCount","toggleIsFetching","toggleFollowingProgress","usersReducer","getPageSize","usersPage","getTotalItemsCount","getCurrentPage","getIsFetching","getFollowingInProgress","createSelector","u","UsersContainer","componentDidMount","pageNumber","compose","dispatch","resultCode","setTotalUsersCount","items","totalCount","Header","header","mainTitle","loginBlock","loginName","setAuthUserData","payload","getAuthUserData","authReducer","HeaderContainer","Input","FormElement","maxLength30","maxLength","LoginReduxForm","reduxForm","form","handleSubmit","error","onSubmit","Field","placeholder","component","validate","required","formSummaryError","Login","formData","length","stopSubmit","_error","initialized","appReducer","navbarReducer","sidebarReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","navbarPage","sidebarPage","formReducer","app","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunk","withSuspense","fallback","DialogsContainer","lazy","ProfileContainer","App","initializeApp","path","render","AppContainer","withRouter","promise","Promise","all","MainApp","basename","process","ReactDOM","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","console","preloader","value","undefined","Element","input","meta","touched","hasError","formControl","posts","likesCount","profile","deletePost","postId","addPost","newText","setStatus","getUserProfile"],"mappings":"wNAIIA,EAAkB,SAACC,GAAD,MAAY,CAChCC,OAAQD,EAAME,KAAKD,SAIRE,EAAmB,SAACC,GAAe,IACxCC,EADuC,uKAGzC,OAAKC,KAAKC,MAAMN,OAET,kBAACG,EAAcE,KAAKC,OAFI,kBAAC,IAAD,CAAUC,GAAI,eAHJ,GACbC,IAAML,WAQtC,OAAOM,YAAQX,EAARW,CAAyBL,K,uFClB5BM,EAAe,6BAEjBC,EAAe,CACjBC,SAAU,CACR,CAACC,GAAI,EAAEC,QAAS,MAChB,CAACD,GAAI,EAAEC,QAAS,gBAChB,CAACD,GAAI,EAAEC,QAAS,MAChB,CAACD,GAAI,EAAEC,QAAS,MAChB,CAACD,GAAI,EAAEC,QAAS,MAChB,CAACD,GAAI,EAAEC,QAAS,gBAChB,CAACD,GAAI,EAAEC,QAAS,gBAChB,CAACD,GAAI,EAAEC,QAAS,qBAGlBC,QAAS,CACP,CAACF,GAAI,EAAGG,KAAM,QACd,CAACH,GAAI,EAAGG,KAAM,UACd,CAACH,GAAI,EAAGG,KAAM,SACd,CAACH,GAAI,EAAGG,KAAM,UACd,CAACH,GAAI,EAAGG,KAAM,YAGdH,EAAK,EAgBII,EAAc,SAACC,GAAD,MAAqB,CAAEC,KAAMT,EAAcQ,mBAGvDE,IAjBQ,WAAmC,IAAlCrB,EAAiC,uDAAzBY,EAAcU,EAAW,uCAEvD,OAAQA,EAAOF,MACb,KAAKT,EACF,OAAO,eACHX,EADJ,CAECa,SAAS,GAAD,mBAAMb,EAAMa,UAAZ,CAAsB,CAACC,KAAMA,EAAIC,QAASO,EAAOH,oBAG7D,QACE,OAAOnB,K,oBClCbuB,EAAOC,QAAU,IAA0B,uC,oBCC3CD,EAAOC,QAAU,CAAC,UAAY,+B,mBCA9BD,EAAOC,QAAU,CAAC,IAAM,oBAAoB,KAAO,qBAAqB,WAAa,2BAA2B,QAAU,wBAAwB,MAAQ,wB,4PCCpJC,E,OAAQC,EAAMC,OAAO,CACzBC,QAAS,gDACTC,iBAAiB,EACjBC,QAAS,CACP,UAAW,0CAIFC,EAAW,CACtBC,SAAS,WAAD,4BAAE,4CAAAC,EAAA,6DAAOC,EAAP,+BAAqB,EAAGC,EAAxB,+BAAmC,IAAnC,SACeV,EAAMW,IAAN,qBAAwBF,EAAxB,kBAA6CC,IAD5D,cACFE,EADE,yBAEDA,EAASC,MAFR,2CAAF,kDAAC,GAKTC,OAAO,WAAD,4BAAE,WAAMC,GAAN,eAAAP,EAAA,sEACiBR,EAAMgB,KAAN,iBAAqBD,IADtC,cACAH,EADA,yBAECA,EAASC,MAFV,2CAAF,mDAAC,GAKPI,SAAS,WAAD,4BAAE,WAAMF,GAAN,eAAAP,EAAA,sEACeR,EAAMkB,OAAN,iBAAuBH,IADtC,cACFH,EADE,yBAEDA,EAASC,MAFR,2CAAF,mDAAC,IAMEM,EAAa,CACxBC,WAAW,WAAD,4BAAE,WAAML,GAAN,eAAAP,EAAA,sEACWR,EAAMW,IAAN,kBAAqBI,IADhC,cACNH,EADM,yBAEHA,EAASC,MAFN,2CAAF,mDAAC,GAKXQ,UAAU,WAAD,4BAAE,WAAMN,GAAN,eAAAP,EAAA,sEACYR,EAAMW,IAAN,yBAA4BI,IADxC,cACLH,EADK,yBAEFA,GAFE,2CAAF,mDAAC,GAKVU,aAAa,WAAD,4BAAE,WAAOC,GAAP,eAAAf,EAAA,sEACSR,EAAMwB,IAAN,kBAA6B,CAChDD,OAAQA,IAFE,cACRX,EADQ,yBAILA,GAJK,2CAAF,mDAAC,IAUFa,EAAW,CACtBC,OAAO,WAAD,4BAAE,4BAAAlB,EAAA,sEACeR,EAAMW,IAAI,WADzB,cACFC,EADE,yBAECA,EAASC,MAFV,2CAAF,kDAAC,GAKPc,MAAM,WAAD,4BAAE,WAAOC,EAAOC,GAAd,6BAAArB,EAAA,6DAAwBsB,EAAxB,yCACgB9B,EAAMgB,KAAK,aAAc,CAC5CY,QACAC,WACAC,eAJG,cACDlB,EADC,yBAMEA,GANF,2CAAF,qDAAC,GASNmB,OAAO,WAAD,4BAAE,4BAAAvB,EAAA,sEACeR,EAAMkB,OAAO,cAD5B,cACFN,EADE,yBAECA,GAFD,2CAAF,kDAAC,K,wCCnDWoB,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2D,uGCRSC,EARD,SAAAvD,GACZ,OACE,uCCMWwD,EARF,SAAAxD,GACX,OACE,sCCMWyD,EARC,SAAAzD,GACd,OACE,0C,iBCcW0D,EAdA,SAAC1D,GAEd,OACE,yBAAK2D,UAAWC,IAAOC,KACnB,kBAAC,IAAD,CAASF,UAAWC,IAAOE,KAAMC,gBAAiBH,IAAOI,WAAY/D,GAAG,YAAxE,WACA,kBAAC,IAAD,CAAS0D,UAAWC,IAAOE,KAAMC,gBAAiBH,IAAOI,WAAY/D,GAAG,SAAxE,WACA,kBAAC,IAAD,CAAS0D,UAAWC,IAAOE,KAAMC,gBAAiBH,IAAOI,WAAY/D,GAAG,YAAxE,YACA,kBAAC,IAAD,CAAS0D,UAAWC,IAAOE,KAAMC,gBAAiBH,IAAOI,WAAY/D,GAAG,SAAxE,QACA,kBAAC,IAAD,CAAS0D,UAAWC,IAAOE,KAAMC,gBAAiBH,IAAOI,WAAY/D,GAAG,UAAxE,SACA,kBAAC,IAAD,CAAS0D,UAAWC,IAAOE,KAAMC,gBAAiBH,IAAOI,WAAY/D,GAAG,YAAxE,c,kCCwCOgE,EAlDC,SAAC,GAUf,IAJK,IALLC,EAKI,EALJA,cACAvC,EAII,EAJJA,YACAwC,EAGI,EAHJA,gBACAvC,EAEI,EAFJA,SAEI,IADJwC,mBACI,MADU,GACV,EACAC,EAAQ,GACRC,EAAaC,KAAKC,KAAKL,EAAkBvC,GAEpC6C,EAAI,EAAGA,GAAKH,EAAYG,IAC/BJ,EAAMK,KAAKD,GAEb,IAAIE,EAAeJ,KAAKC,KAAKF,EAAaF,GAPtC,EAQoCQ,mBAAS,GAR7C,mBAQCC,EARD,KAQgBC,EARhB,KASAC,GAAyBF,EAAgB,GAAKT,EAAc,EAC5DY,EAAyBH,EAAgBT,EAE7C,OACE,yBAAKT,UAAWC,IAAOqB,WACpBJ,EAAgB,GACf,4BAAQK,QAAS,kBAAMJ,EAAiBD,EAAgB,KAAxD,QAIDR,EACEc,QAAO,SAAAC,GAAI,OAAIA,GAAQL,GAAyBK,GAAQJ,KACxDK,KAAI,SAACD,GACN,OACE,0BACEE,IAAKF,EACLF,QAAS,WACPhB,EAAckB,IAEhBzB,WACGhC,IAAgByD,GAAQxB,IAAO2B,cAChC,IACA3B,IAAOjC,aAGRyD,EAAO,QAIbT,EAAeE,GAChB,4BAAQK,QAAS,kBAAMJ,EAAiBD,EAAgB,KAAxD,U,kCCHSW,EAxCF,SAAC,GAAqD,IAAnDC,EAAkD,EAAlDA,KAAMC,EAA4C,EAA5CA,oBAAqBvD,EAAuB,EAAvBA,SAAUH,EAAa,EAAbA,OACnD,OACE,yBAAKsD,IAAKG,EAAKlF,GAAIoD,UAAWC,IAAO+B,aACnC,yBAAKhC,UAAWC,IAAOgC,QACrB,6BACE,kBAAC,IAAD,CAAS3F,GAAE,mBAAcwF,EAAKlF,KAC5B,yBACEsF,IAA0B,MAArBJ,EAAKK,OAAOC,MAAgBN,EAAKK,OAAOC,MAAQC,IACrDC,IAAI,OAIV,6BACGR,EAAKS,SACJ,4BACEC,SAAUT,EAAoBU,MAAK,SAAC7F,GAAD,OAAQA,IAAOkF,EAAKlF,MACvD2E,QAAS,kBAAM/C,EAASsD,EAAKlF,MAF/B,YAOA,4BACE4F,SAAUT,EAAoBU,MAAK,SAAC7F,GAAD,OAAQA,IAAOkF,EAAKlF,MACvD2E,QAAS,kBAAMlD,EAAOyD,EAAKlF,MAF7B,YASN,yBAAKoD,UAAWC,IAAOyC,aACrB,6BAAMZ,EAAK/E,MACX,6BAAM+E,EAAKhD,QACX,6BAAM,yBACN,6BAAM,yB,QCJC6D,EA9BH,SAAC,GAGJ,IAHMC,EAGP,EAHOA,WAAYC,EAGnB,EAHmBA,MAAOd,EAG1B,EAH0BA,oBAChCvD,EAEM,EAFNA,SAAUH,EAEJ,EAFIA,OACVmC,EACM,EADNA,gBAAiBvC,EACX,EADWA,SAAUsC,EACrB,EADqBA,cAAevC,EACpC,EADoCA,YAE1C,OACE,6BACE,kBAAC,EAAD,CACEwC,gBAAiBA,EACjBvC,SAAUA,EACVsC,cAAeA,EACfvC,YAAaA,IAEf,6BACG4E,GAAc,kBAACE,EAAA,EAAD,MACdD,EAAMnB,KAAI,SAACI,GACV,OACE,kBAAC,EAAD,CACEH,IAAKG,EAAKlF,GACVkF,KAAMA,EACNC,oBAAqBA,EACrBvD,SAAUA,EACVH,OAAQA,U,+CCflB3B,EAAe,CACjBmG,MAAO,GACP5E,SAAU,GACVuC,gBAAiB,EACjBxC,YAAa,EACb4E,YAAY,EACZb,oBAAqB,IAmEVgB,EAAgB,SAACzE,GAAD,MAAa,CAAEpB,KAlF7B,SAkF2CoB,WAE7C0E,EAAkB,SAAC1E,GAAD,MAAa,CAAEpB,KAnF7B,WAmF6CoB,WAIjD2E,EAAiB,SAACjF,GAAD,MAAkB,CAACd,KApFxB,mBAoFgDc,gBAE5DkF,EAAqB,SAAA1C,GAAe,MAAK,CAACtD,KArFzB,wBAqFsDsD,oBAEvE2C,EAAmB,SAAAP,GAAU,MAAK,CAAC1F,KAtFrB,qBAsF+C0F,eAE7DQ,EAA0B,SAACR,EAAYtE,GAAb,MAAyB,CAACpB,KAvF5B,+BAuFgE0F,aAAYtE,WAkClG+E,EA9GM,WAAmC,IAAlCvH,EAAiC,uDAAzBY,EAAcU,EAAW,uCAErD,OAAQA,EAAOF,MACb,IArBW,SAsBT,OAAO,eACFpB,EADL,CAEE+G,MAAO/G,EAAM+G,MAAMnB,KAAI,SAAAI,GACrB,OAAOA,EAAKlF,KAAOQ,EAAOkB,OAAnB,eAAgCwD,EAAhC,CAAsCS,UAAU,IAAST,OAItE,IA5Ba,WA6BX,OAAO,eACFhG,EADL,CAEE+G,MAAO/G,EAAM+G,MAAMnB,KAAI,SAAAI,GACrB,OAAOA,EAAKlF,KAAOQ,EAAOkB,OAAnB,eAAgCwD,EAAhC,CAAsCS,UAAU,IAAUT,OAIvE,IAnCc,YAoCZ,OAAO,eACFhG,EADL,CAEE+G,MAAM,YAAKzF,EAAOyF,SAGtB,IAxCkB,gBAyChB,OAAO,eACF/G,EADL,CAEE+G,MAAO,KAGX,IA7CqB,mBA8CnB,OAAO,eACF/G,EADL,CAEEkC,YAAaZ,EAAOY,YACpB6E,MAAO,KAGX,IAnD0B,wBAoDxB,OAAO,eACF/G,EADL,CAEE0E,gBAAiBpD,EAAOoD,kBAG5B,IAxDuB,qBAyDrB,OAAO,eACF1E,EADL,CAEE8G,WAAYxF,EAAOwF,aAGvB,IA7DiC,+BA8D/B,OAAO,eACF9G,EADL,CAEEiG,oBAAqB3E,EAAOwF,WAAP,sBACb9G,EAAMiG,qBADO,CACc3E,EAAOkB,SACtCxC,EAAMiG,oBAAoBP,QAAO,SAAA5E,GAAE,OAAIA,IAAOQ,EAAOkB,YAG7D,QACE,OAAOxC,I,yBCzEAwH,EAAc,SAACxH,GAC1B,OAAOA,EAAMyH,UAAUtF,UAGZuF,EAAqB,SAAC1H,GACjC,OAAOA,EAAMyH,UAAU/C,iBAGZiD,EAAiB,SAAC3H,GAC7B,OAAOA,EAAMyH,UAAUvF,aAGZ0F,EAAgB,SAAC5H,GAC5B,OAAOA,EAAMyH,UAAUX,YAGZe,EAAyB,SAAC7H,GACrC,OAAOA,EAAMyH,UAAUxB,qBAGZjE,EAAW8F,aAxBC,SAAC9H,GACxB,OAAOA,EAAMyH,UAAUV,SAuBgC,SAACA,GACxD,OAAOA,EAAMrB,QAAO,SAAAqC,GAAC,OAAI,QCLrBC,G,4MAEJC,kBAAoB,WAAO,IAAD,EACQ,EAAK1H,MAA9B2B,EADiB,EACjBA,YAAaC,EADI,EACJA,SACpB,EAAK5B,MAAMyB,SAASE,EAAaC,I,EAGnCsC,cAAgB,SAACyD,GAAgB,IACxB/F,EAAY,EAAK5B,MAAjB4B,SACP,EAAK5B,MAAMyB,SAASkG,EAAY/F,I,uDAIhC,OACE,kBAAC,EAAD,CACE4E,MAAOzG,KAAKC,MAAMwG,MAClB5E,SAAU7B,KAAKC,MAAM4B,SACrBuC,gBAAiBpE,KAAKC,MAAMmE,gBAC5BxC,YAAa5B,KAAKC,MAAM2B,YACxBuC,cAAenE,KAAKmE,cACpBqC,WAAYxG,KAAKC,MAAMuG,WACvBvE,OAAQjC,KAAKC,MAAMgC,OACnBG,SAAUpC,KAAKC,MAAMmC,SACrBuD,oBAAqB3F,KAAKC,MAAM0F,0B,GAvBXxF,IAAML,WAwCpB+H,eACbzH,aAZoB,SAACV,GACrB,MAAO,CACL+G,MAAO/E,EAAShC,GAChBmC,SAAUqF,EAAYxH,GACtB0E,gBAAiBgD,EAAmB1H,GACpCkC,YAAayF,EAAe3H,GAC5B8G,WAAYc,EAAc5H,GAC1BiG,oBAAqB4B,EAAuB7H,MAKrB,CACvBuC,OF6CkB,SAAAC,GAAM,8CAAI,WAAM4F,GAAN,SAAAnG,EAAA,6DAC5BmG,EAASd,GAAwB,EAAM9E,IADX,SAETT,IAASQ,OAAOC,GAFP,OAIJ,IAJI,OAInB6F,YACPD,EAASnB,EAAczE,IAEzB4F,EAASd,GAAwB,EAAO9E,IAPZ,2CAAJ,uDE5CxBE,SFsDoB,SAAAF,GAAM,8CAAI,WAAM4F,GAAN,SAAAnG,EAAA,6DAC9BmG,EAASd,GAAwB,EAAM9E,IADT,SAEXT,IAASW,SAASF,GAFP,OAIN,IAJM,OAIrB6F,YACPD,EAASlB,EAAgB1E,IAE3B4F,EAASd,GAAwB,EAAO9E,IAPV,2CAAJ,uDErD1B2E,iBACAmB,mBAAoBlB,EACpBE,0BACAtF,SF8BwB,SAAC2D,EAAMxD,GAAP,8CAAoB,WAAMiG,GAAN,eAAAnG,EAAA,6DAC9CmG,EAASf,GAAiB,IAC1Be,EAASjB,EAAexB,IAFsB,SAG3B5D,IAASC,SAAS2D,EAAMxD,GAHG,OAGxCG,EAHwC,OAK9C8F,EAASf,GAAiB,IAC1Be,EAjBgC,CAAEhH,KApFlB,YAoFmC2F,MAiBjCzE,EAAKiG,QACvBH,EAAShB,EAAmB9E,EAAKkG,aAPa,2CAApB,yDE5B1BrI,IATagI,CAUbH,I,oBCnDaS,GAjBA,SAAC,GAA6B,IAA5BxI,EAA2B,EAA3BA,OAAQuD,EAAmB,EAAnBA,OAAQJ,EAAW,EAAXA,MAC/B,OACE,4BAAQc,UAAWC,KAAOuE,QACxB,yBAAKtC,IAAI,0GAA0GI,IAAI,eACvH,wBAAItC,UAAWC,KAAOwE,WAAtB,WACA,yBAAKzE,UAAWC,KAAOyE,YACnB3I,EACA,6BACE,uBAAGiE,UAAWC,KAAO0E,WAArB,UAAwCzF,GACxC,4BAAQqC,QAASjC,GAAjB,WAEF,kBAAC,IAAD,CAAShD,GAAI,UAAb,Y,SCVNI,GAAe,CACjB4B,OAAQ,KACRa,MAAO,KACPD,MAAO,KACPnD,QAAQ,GAeG6I,GAAkB,SAACtG,EAAQa,EAAOD,EAAOnD,GAAvB,MAC5B,CAACmB,KAtBuB,0BAsBG2H,QAAS,CAACvG,SAAQa,QAAOD,QAAOnD,YAGjD+I,GAAkB,yDAAM,WAAOZ,GAAP,uBAAAnG,EAAA,sEACZiB,IAAQC,SADI,OAGP,KAFtBd,EAD6B,QAGtBgG,aAAmB,EACHhG,EAASC,KAA9BxB,EADuB,EACvBA,GAAIuC,EADmB,EACnBA,MAAOD,EADY,EACZA,MACjBgF,EAASU,GAAgBhI,EAAIuC,EAAOD,GAAO,KALV,2CAAN,uDA8BhB6F,GA9CK,WAAmC,IAAlCjJ,EAAiC,uDAAzBY,GAAcU,EAAW,uCACpD,OAAQA,EAAOF,MACb,IAXuB,0BAYrB,OAAO,eACFpB,EADL,GAEKsB,EAAOyH,SAEd,QACE,OAAO/I,ICfPkJ,G,uKAGF,OACE,kBAAC,GAAW5I,KAAKC,W,GAJOE,IAAML,WAcrBM,gBALS,SAAAV,GAAK,MAAK,CAChCC,OAAQD,EAAME,KAAKD,OACnBmD,MAAOpD,EAAME,KAAKkD,SAGoB,CAACI,OD8BnB,yDAAM,WAAM4E,GAAN,SAAAnG,EAAA,sEAEHiB,IAAQM,SAFL,OAIO,IAJP,OAIblB,KAAK+F,YAChBD,EAASU,GAAgB,KAAM,KAAM,MAAM,IALnB,2CAAN,wDC9BPpI,CAAmCwI,I,0DCZ5CC,GAAQC,aAAY,SACpBC,GAAcC,aAAU,IA6BxBC,GAAiBC,aAAU,CAAEC,KAAM,SAAlBD,EA3BL,SAAC,GAA2B,IAA1BE,EAAyB,EAAzBA,aAAcC,EAAW,EAAXA,MAChC,OACE,0BAAMC,SAAUF,GACZ,6BACE,kBAACG,GAAA,EAAD,CAAOC,YAAa,QAAS7I,KAAM,QAAS8I,UAAWZ,GACrDa,SAAU,CAACC,KAAUZ,OAGzB,6BACE,kBAACQ,GAAA,EAAD,CAAOzI,KAAK,WAAW0I,YAAa,WAAY7I,KAAM,WAAY8I,UAAWZ,GAC3Ea,SAAU,CAACC,SAGf,6BACE,kBAACJ,GAAA,EAAD,CAAOE,UAAWZ,GAAOlI,KAAM,aAAcG,KAAK,aAAY,8CAE/DuI,GAAS,yBAAKzF,UAAWC,KAAO+F,kBAC9BP,GAEH,6BACE,8CA4BKQ,GAnBD,SAAC,GAAqB,IAApB/G,EAAmB,EAAnBA,MAMd,OANiC,EAAZnD,OAOZ,kBAAC,IAAD,CAAUO,GAAG,aAGlB,6BACE,qCACA,kBAAC+I,GAAD,CAAgBK,SAXL,SAACQ,GAAc,IACzB/G,EAA+B+G,EAA/B/G,MAAOC,EAAwB8G,EAAxB9G,SAAUC,EAAc6G,EAAd7G,WACtBH,EAAMC,EAAOC,EAAUC,QCpCZ7C,gBAFS,SAAAV,GAAK,MAAK,CAACC,OAAQD,EAAME,KAAKD,UAEd,CAACmD,MHgCpB,SAACC,EAAOC,EAAUC,GAAlB,8CAAiC,WAAM6E,GAAN,iBAAAnG,EAAA,sEAC7BiB,IAAQE,MAAMC,EAAOC,EAAUC,GADF,OAGnB,KAF3BlB,EAD8C,QAGvCC,KAAK+F,WACdD,EAASY,OAEPjI,EAAUsB,EAASC,KAAKzB,SAASwJ,OAAS,EAAIhI,EAASC,KAAKzB,SAAS,GAAK,aAC9EuH,EAASkC,aAAW,QAAS,CAACC,OAAQxJ,MAPY,2CAAjC,wDGhCNL,CAAkCyJ,ICF7CvJ,GAAe,CACjB4J,aAAa,GAwBAC,GArBI,WAAmC,IAAlCzK,EAAiC,uDAAzBY,GAAcU,EAAW,uCACnD,OAAQA,EAAOF,MACb,IARwB,sBAStB,OAAO,eACFpB,EADL,CAEEwK,aAAa,IAEjB,QACE,OAAOxK,I,mBChBTY,GAAe,GAOJ8J,GAJO,WAAmC,IAAlC1K,EAAiC,uDAAzBY,GAAyB,iCACtD,OAAOZ,GCJLY,GAAe,GAOJ+J,GAJQ,WAAmC,IAAlC3K,EAAiC,uDAAzBY,GAAyB,iCACvD,OAAOZ,G,oBCQL4K,GAAWC,YAAgB,CAC7BC,YAAaC,KACbC,YAAa3J,KACb4J,WAAYP,GACZQ,YAAaP,GACblD,UAAWF,EACXrH,KAAM+I,GACNQ,KAAM0B,KACNC,IAAKX,KAGDY,GAAmB3H,OAAO4H,sCAAwCnD,IAIzDoD,GAHDC,YACZZ,GAAUS,GAAiBI,YAAgBC,QCd9BC,GARM,SAAAvL,GAAS,OAAI,SAAAG,GAChC,OACE,kBAAC,WAAD,CAAUqL,SAAU,kBAAC5E,EAAA,EAAD,OAClB,kBAAC5G,EAAcG,MCWfsL,GAAmBpL,IAAMqL,MAAK,kBAAM,iCACpCC,GAAmBtL,IAAMqL,MAAK,kBAAM,iCAEpCE,G,kLAEF1L,KAAKC,MAAM0L,kB,+BAIX,OAAK3L,KAAKC,MAAMiK,YAEd,yBAAKtG,UAAU,eACb,kBAAC,GAAD,MACA,kBAAC,EAAD,MACA,yBAAKA,UAAU,uBACb,kBAAC,IAAD,CAAOgI,KAAK,oBACNC,OAAQR,GAAaI,MAE3B,kBAAC,IAAD,CAAOG,KAAK,WACNC,OAAQR,GAAaE,MAE3B,kBAAC,IAAD,CAAOK,KAAK,QAAQC,OAAQ,kBAAM,kBAAC,EAAD,SAClC,kBAAC,IAAD,CAAOD,KAAK,SAASC,OAAQ,kBAAM,kBAAC,EAAD,SACnC,kBAAC,IAAD,CAAOD,KAAK,YAAYC,OAAQ,kBAAM,kBAAC,EAAD,SACtC,kBAAC,IAAD,CAAOD,KAAK,SAASC,OAAQ,kBAAM,kBAAC,GAAD,SACnC,kBAAC,IAAD,CAAOD,KAAK,SAASC,OAAQ,kBAAM,kBAAC,GAAD,WAhBL,kBAACnF,EAAA,EAAD,U,GANtBvG,IAAML,WA+BpBgM,GAAejE,YACjBkE,IACA3L,aAJsB,SAACV,GAAD,MAAY,CAACwK,YAAaxK,EAAMoL,IAAIZ,eAIjC,CAACyB,cL9BC,yDAAM,WAAM7D,GAAN,eAAAnG,EAAA,sEACbmG,EAASY,MADI,cAC7BsD,EAD6B,gBAE3BC,QAAQC,IAAI,CAACF,IAFc,OAGjClE,EANuC,CAAChH,KAlBd,wBAqBO,2CAAN,yDK4BV+G,CAE0B6D,IAa9BS,GAVC,SAAClM,GACf,OACE,kBAAC,IAAD,CAAemM,SAAUC,sBACzB,kBAAC,IAAD,CAAUpB,MAAOA,IACf,kBAACa,GAAD,SCrDNQ,IAAST,OACP,kBAAC,GAAD,MACAU,SAASC,eAAe,StB0HpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrBC,MAAK,SAAAC,GACJA,EAAaC,gBAEdC,OAAM,SAAA1D,GACL2D,QAAQ3D,MAAMA,EAAM5I,a,gCuBzI5B,wDAYeiG,IARC,SAACzG,GACf,OACE,yBAAK2D,UAAWC,IAAOoJ,WACrB,yBAAKnH,IAAKmH,IAAW/G,IAAI,Q,mBCN/BjF,EAAOC,QAAU,CAAC,YAAc,kCAAkC,MAAQ,4BAA4B,iBAAmB,yC,mBCAzHD,EAAOC,QAAU,CAAC,OAAS,uBAAuB,UAAY,0BAA0B,WAAa,6B,gCCDrG,oEAAO,IAAMyI,EAAW,SAAAuD,GACtB,IAAIA,EACJ,MAAO,qBAIIlE,EAAY,SAACA,GAAD,OAAe,SAACkE,GACrC,OAAOA,GAASA,EAAMnD,OAASf,EAAxB,wBAAqDA,EAArD,iBAA2EmE,K,mBCNtFlM,EAAOC,QAAU,CAAC,UAAY,6BAA6B,cAAgB,iCAAiC,aAAe,kC,mBCA3HD,EAAOC,QAAU,CAAC,YAAc,0BAA0B,OAAS,qBAAqB,YAAc,4B,gCCDtG,uEAGa4H,EAAc,SAAAsE,GAAO,OAAI,YAA4C,IAA1CC,EAAyC,EAAzCA,MAAyC,IAAlCC,KAAOC,EAA2B,EAA3BA,QAASlE,EAAkB,EAAlBA,MAAQvI,EAAU,EAAVA,KAC/D0M,EAAWD,GAAWlE,EAC5B,OACE,yBAAKzF,UAAWC,IAAO4J,YAAc,KAAOD,EAAW3J,IAAOwF,MAAQ,KACpE,kBAAC+D,EAAD,iBACMC,EADN,CAEEvM,KAAMA,KAEP0M,GAAY,8BAAOnE,O,6PCHtB/I,EAAe,CACjBoN,MAAO,CACL,CAAClN,GAAI,EAAGC,QAAS,mBAAoBkN,WAAY,IACjD,CAACnN,GAAI,EAAGC,QAAS,qBAAuBkN,WAAY,KAEtDC,QAAS,KACTlL,OAAQ,IAGNlC,EAAK,EAgCIqN,EAAa,SAAAC,GAAM,MAAK,CAAChN,KA3ClB,cA2CqCgN,WAC5CC,EAAU,SAACC,GAAD,MAAc,CAAElN,KAhDtB,WAgDsCkN,YAE1CC,EAAY,SAAAvL,GAAM,MAAK,CAAE5B,KA/CnB,aA+CqC4B,WAG3CwL,EAAkB,SAAAhM,GAAM,8CAAI,WAAM4F,GAAN,eAAAnG,EAAA,sEACpBW,IAAWC,WAAWL,GADF,OACjCF,EADiC,OAEvC8F,EAJiC,CAAEhH,KAjDZ,mBAiDoC8M,QAInC5L,IAFe,2CAAJ,uDAKxBQ,EAAY,SAAAN,GAAM,8CAAI,WAAM4F,GAAN,eAAAnG,EAAA,sEACVW,IAAWE,UAAUN,GADX,OAC3BH,EAD2B,OAEjC+F,EAASmG,EAAUlM,EAASC,OAFK,2CAAJ,uDAKlBS,EAAe,SAAAC,GAAM,8CAAI,WAAMoF,GAAN,SAAAnG,EAAA,sEACfW,IAAWG,aAAaC,GADT,OAEH,IAFG,OAEvBV,KAAK+F,YAChBD,EAASmG,EAAUvL,IAHe,2CAAJ,uDAOnB+H,IArDQ,WAAmC,IAAlC/K,EAAiC,uDAAzBY,EAAcU,EAAW,uCAEvD,OAAOA,EAAOF,MACZ,IApBa,WAqBX,OAAO,eACFpB,EADL,CAEEgO,MAAM,GAAD,mBAAMhO,EAAMgO,OAAZ,CAAmB,CAAClN,KAAMA,EAAIC,QAASO,EAAOgN,QAASL,WAAY,QAG5E,IAxBqB,mBAyBnB,OAAO,eACFjO,EADL,CAEEkO,QAAS5M,EAAO4M,UAEpB,IA5Be,aA6Bb,OAAO,eACFlO,EADL,CAEEgD,OAAQ1B,EAAO0B,SAGnB,IAjCgB,cAkCd,OAAO,eACFhD,EADL,CAEEgO,MAAOhO,EAAMgO,MAAMtI,QAAO,SAAAjD,GAAI,OAAIA,EAAK3B,KAAOQ,EAAO8M,YAEzD,QACE,OAAOpO,K,mBC7CbuB,EAAOC,QAAU,IAA0B,qC","file":"static/js/main.60137f66.chunk.js","sourcesContent":["import React from 'react'\r\nimport { Redirect } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\n\r\nlet mapStateToProps = (state) => ({\r\n  isAuth: state.auth.isAuth\r\n})\r\n\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n  class RedirectComponent extends React.Component {\r\n    render() {\r\n      if (!this.props.isAuth) return <Redirect to={'/login'} />\r\n      \r\n      return <Component {...this.props} />\r\n    }\r\n  }\r\n\r\n  return connect(mapStateToProps)(RedirectComponent)\r\n}\r\n\r\n","const SEND_MESSAGE = 'dialogs/ADD-DIALOG-MESSAGE'\r\n\r\nlet initialState = {\r\n  messages: [\r\n    {id: 1,message: 'Hi'},\r\n    {id: 2,message: 'How are you?'},\r\n    {id: 3,message: 'Yo'},\r\n    {id: 4,message: 'Yo'},\r\n    {id: 5,message: 'Yo'},\r\n    {id: 6,message: 'How are you?'},\r\n    {id: 7,message: 'How are you?'},\r\n    {id: 8,message: 'What\\' your name?'},\r\n  ],\r\n\r\n  dialogs: [\r\n    {id: 1, name: 'Dima'},\r\n    {id: 2, name: 'Andrey'},\r\n    {id: 3, name: 'Sasha'},\r\n    {id: 4, name: 'Victor'},\r\n    {id: 5, name: 'Valera'}\r\n  ],\r\n}\r\nlet id = 9;\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n\r\n  switch (action.type) {\r\n    case SEND_MESSAGE:\r\n       return {\r\n        ...state,\r\n        messages: [...state.messages, {id: ++id, message: action.newMessageBody}],\r\n      }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const sendMessage = (newMessageBody) => ({ type: SEND_MESSAGE, newMessageBody })\r\n\r\n\r\nexport default dialogsReducer\r\n","module.exports = __webpack_public_path__ + \"static/media/preloader.e4b6323e.gif\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__2-DFe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__3AgLY\",\"item\":\"Navbar_item__3juqs\",\"activeLink\":\"Navbar_activeLink__3FCLg\",\"friends\":\"Navbar_friends__1d9fT\",\"title\":\"Navbar_title__RTzQo\"};","import Axios from \"axios\";\r\n\r\nconst axios = Axios.create({  \r\n  baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n  withCredentials: true,\r\n  headers: {\r\n    \"API-KEY\": \"4df29c85-3f77-4244-a766-7b3c2a94e24d\"\r\n    }\r\n})\r\n\r\nexport const usersAPI = {\r\n  getUsers: async (currentPage = 1, pageSize = 100) => {\r\n    const response = await axios.get(`users?page=${currentPage}&count=${pageSize}`)\r\n    return response.data;\r\n  },\r\n\r\n  follow: async userId => {\r\n    const response = await axios.post(`follow/${userId}`)\r\n    return response.data\r\n  },\r\n\r\n  unfollow: async userId => {\r\n    const response = await axios.delete(`follow/${userId}`)\r\n    return response.data\r\n  },\r\n} \r\n\r\nexport const profileAPI = {\r\n  getProfile: async userId => {\r\n    let response = await axios.get(`profile/${userId}`)\r\n    return response.data\r\n  },\r\n  \r\n  getStatus: async userId => {\r\n    let response = await axios.get(`profile/status/${userId}`)\r\n    return response;\r\n  },\r\n\r\n  updateStatus: async (status) => {\r\n    let response = await axios.put(`profile/status/`, {\r\n      status: status\r\n    })\r\n    return response\r\n  }\r\n}\r\n\r\n\r\n\r\nexport const authAPI  = {\r\n  authMe: async () => {\r\n    let response = await axios.get('auth/me')\r\n    return response.data\r\n  },\r\n\r\n  login: async (email, password, rememberMe = false) => {\r\n    let response = await axios.post('auth/login', {\r\n      email,\r\n      password,\r\n      rememberMe\r\n    })\r\n    return response\r\n  },\r\n\r\n  logout: async () => {\r\n    let response = await axios.delete('auth/login')\r\n    return response\r\n  }\r\n\r\n}","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react'\r\n\r\nconst Music = props => {\r\n  return (\r\n    <div>\r\n      Music\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Music","import React from 'react'\r\n\r\nconst News = props => {\r\n  return (\r\n    <div>\r\n      News\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default News","import React from 'react'\r\n\r\nconst Options = props => {\r\n  return (\r\n    <div>\r\n      Settings\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Options","import React from 'react';\r\nimport styles from './Navbar.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst Navbar = (props) => {\r\n\r\n  return (\r\n    <nav className={styles.nav}>\r\n        <NavLink className={styles.item} activeClassName={styles.activeLink} to=\"/profile\">Profile</NavLink>\r\n        <NavLink className={styles.item} activeClassName={styles.activeLink} to='users'>Friends</NavLink> \r\n        <NavLink className={styles.item} activeClassName={styles.activeLink} to=\"/dialogs\">Messages</NavLink>\r\n        <NavLink className={styles.item} activeClassName={styles.activeLink} to=\"/news\">News</NavLink>\r\n        <NavLink className={styles.item} activeClassName={styles.activeLink} to='/music'>Music</NavLink>\r\n        <NavLink className={styles.item} activeClassName={styles.activeLink} to='settings'>Settings</NavLink>\r\n    </nav>\r\n  )\r\n}\r\n\r\nexport default Navbar;","import React, { useState, useEffect } from \"react\";\r\nimport styles from \"./Paginator.module.css\";\r\n\r\nlet Paginator = ({\r\n  onPageChanged,\r\n  currentPage,\r\n  totalItemsCount,\r\n  pageSize,\r\n  portionSize = 10,\r\n}) => {\r\n  let pages = [];\r\n  let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n\r\n  for (let i = 1; i <= pagesCount; i++) {\r\n    pages.push(i);\r\n  }\r\n  let portionCount = Math.ceil(pagesCount / portionSize);\r\n  let [portionNumber, setPortionNumber] = useState(1);\r\n  let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n  let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n  return (\r\n    <div className={styles.paginator}>\r\n      {portionNumber > 1 &&\r\n        <button onClick={() => setPortionNumber(portionNumber - 1)}>\r\n          PREV\r\n        </button>\r\n      }\r\n      {pages\r\n        .filter(page => page >= leftPortionPageNumber && page <= rightPortionPageNumber)\r\n        .map((page) => {\r\n        return (\r\n          <span\r\n            key={page}\r\n            onClick={() => {\r\n              onPageChanged(page);\r\n            }}\r\n            className={\r\n              (currentPage === page && styles.selectedPage) +\r\n              \" \" +\r\n              styles.currentPage\r\n            }\r\n          >\r\n            {page + \" \"}\r\n          </span>\r\n        );\r\n      })}\r\n      {portionCount > portionNumber &&\r\n      <button onClick={() => setPortionNumber(portionNumber + 1)}>NEXT</button> }\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Paginator;\r\n","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport styles from \"./user.module.css\";\r\nimport userPhoto from \"../../assets/avatar.png\";\r\n\r\nconst User = ({ user, followingInProgress, unfollow, follow }) => {\r\n  return (\r\n    <div key={user.id} className={styles.userProfile}>\r\n      <div className={styles.avatar}>\r\n        <div>\r\n          <NavLink to={`/profile/${user.id}`}>\r\n            <img\r\n              src={user.photos.small != null ? user.photos.small : userPhoto}\r\n              alt=\"\"\r\n            />\r\n          </NavLink>\r\n        </div>\r\n        <div>\r\n          {user.followed ? (\r\n            <button\r\n              disabled={followingInProgress.some((id) => id === user.id)}\r\n              onClick={() => unfollow(user.id)}\r\n            >\r\n              Unfollow\r\n            </button>\r\n          ) : (\r\n            <button\r\n              disabled={followingInProgress.some((id) => id === user.id)}\r\n              onClick={() => follow(user.id)}\r\n            >\r\n              Follow\r\n            </button>\r\n          )}\r\n        </div>\r\n      </div>\r\n      <div className={styles.description}>\r\n        <div>{user.name}</div>\r\n        <div>{user.status}</div>\r\n        <div>{\"user.location.country\"}</div>\r\n        <div>{\"user.location.city\"}</div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default User;\r\n","import React from \"react\";\r\nimport Paginator from \"../common/Paginator/Paginator\";\r\nimport User from \"./User\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\n\r\nlet Users = ({ isFetching, users, followingInProgress,\r\n  unfollow, follow,\r\n  totalItemsCount, pageSize, onPageChanged, currentPage\r\n  }) => {\r\n  return (\r\n    <div>\r\n      <Paginator \r\n        totalItemsCount={totalItemsCount}\r\n        pageSize={pageSize}\r\n        onPageChanged={onPageChanged}\r\n        currentPage={currentPage}  \r\n      />\r\n      <div>\r\n        {isFetching && <Preloader />}\r\n        {users.map((user) => {\r\n          return(\r\n            <User \r\n              key={user.id}\r\n              user={user}\r\n              followingInProgress={followingInProgress}\r\n              unfollow={unfollow}\r\n              follow={follow}\r\n            />\r\n          )\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Users;\r\n","import { usersAPI } from \"./api/api\"\r\n\r\nconst FOLLOW = 'FOLLOW'\r\nconst UNFOLLOW = 'UNFOLLOW'\r\nconst SET_USERS = 'SET_USERS'\r\nconst UNMOUNT_USERS = 'UNMOUNT_USERS'\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE'\r\nconst SET_TOTAL_ITEMS_COUNT = 'SET_TOTAL_ITEMS_COUNT'\r\nconst TOGGLE_IS_FETCHING = 'TOOGLE_IS_FETCHING'\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS'\r\n\r\nlet initialState = {\r\n  users: [],\r\n  pageSize: 50,\r\n  totalItemsCount: 0,\r\n  currentPage: 1,\r\n  isFetching: true,\r\n  followingInProgress: [],\r\n}\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n  \r\n  switch (action.type) {\r\n    case FOLLOW:\r\n      return { \r\n        ...state, \r\n        users: state.users.map(user => {\r\n          return user.id === action.userId ? {...user, followed: true } : user\r\n        })\r\n      }\r\n\r\n    case UNFOLLOW:\r\n      return {\r\n        ...state,\r\n        users: state.users.map(user => {\r\n          return user.id === action.userId ? {...user, followed: false } : user\r\n        })\r\n      }\r\n      \r\n    case SET_USERS:\r\n      return {\r\n        ...state,\r\n        users: [...action.users]\r\n      }\r\n\r\n    case UNMOUNT_USERS:\r\n      return {\r\n        ...state,\r\n        users: []\r\n      }\r\n\r\n    case SET_CURRENT_PAGE: \r\n      return {\r\n        ...state,\r\n        currentPage: action.currentPage,\r\n        users: []\r\n      }\r\n\r\n    case SET_TOTAL_ITEMS_COUNT: \r\n      return {\r\n        ...state,\r\n        totalItemsCount: action.totalItemsCount\r\n      }\r\n\r\n    case TOGGLE_IS_FETCHING: \r\n      return {\r\n        ...state,\r\n        isFetching: action.isFetching\r\n      }\r\n\r\n    case TOGGLE_IS_FOLLOWING_PROGRESS: \r\n      return {\r\n        ...state,\r\n        followingInProgress: action.isFetching\r\n          ? [...state.followingInProgress, action.userId]\r\n          : state.followingInProgress.filter(id => id !== action.userId)\r\n      }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\n\r\nexport const followSuccess = (userId) => ({ type: FOLLOW, userId })\r\n\r\nexport const unfollowSuccess = (userId) => ({ type: UNFOLLOW, userId })\r\n\r\nexport const setUsers = users => ({ type: SET_USERS, users })\r\n\r\nexport const setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage})\r\n\r\nexport const setTotalItemsCount = totalItemsCount => ({type: SET_TOTAL_ITEMS_COUNT, totalItemsCount })\r\n\r\nexport const toggleIsFetching = isFetching => ({type: TOGGLE_IS_FETCHING, isFetching })\r\n\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userId })\r\n\r\n\r\nexport const requestUsers = (page, pageSize) => async dispatch => {\r\n  dispatch(toggleIsFetching(true))\r\n  dispatch(setCurrentPage(page))\r\n  const data = await usersAPI.getUsers(page, pageSize)\r\n\r\n  dispatch(toggleIsFetching(false))\r\n  dispatch(setUsers(data.items));\r\n  dispatch(setTotalItemsCount(data.totalCount))\r\n}\r\n\r\nexport const follow = userId => async dispatch => {\r\n    dispatch(toggleFollowingProgress(true, userId))\r\n    const data = await usersAPI.follow(userId)\r\n    \r\n    if (data.resultCode === 0) {\r\n      dispatch(followSuccess(userId)) \r\n    }\r\n    dispatch(toggleFollowingProgress(false, userId))\r\n}\r\n\r\nexport const unfollow = userId => async dispatch => {\r\n    dispatch(toggleFollowingProgress(true, userId))\r\n    const data = await usersAPI.unfollow(userId)\r\n\r\n    if (data.resultCode === 0) {\r\n      dispatch(unfollowSuccess(userId))\r\n    }\r\n    dispatch(toggleFollowingProgress(false, userId))\r\n}\r\n\r\n\r\nexport default usersReducer","import { createSelector } from \"reselect\"\r\n\r\nconst getUsersSelector = (state) => {\r\n  return state.usersPage.users\r\n}\r\n\r\nexport const getPageSize = (state) => {\r\n  return state.usersPage.pageSize\r\n}\r\n\r\nexport const getTotalItemsCount = (state) => {\r\n  return state.usersPage.totalItemsCount\r\n}\r\n\r\nexport const getCurrentPage = (state) => {\r\n  return state.usersPage.currentPage\r\n}\r\n\r\nexport const getIsFetching = (state) => {\r\n  return state.usersPage.isFetching\r\n}\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n  return state.usersPage.followingInProgress\r\n}\r\n\r\nexport const getUsers = createSelector(getUsersSelector, (users) => {\r\n  return users.filter(u => true)\r\n})","import { connect } from \"react-redux\";\r\nimport React from \"react\";\r\nimport Users from \"./Users\";\r\nimport {\r\n  setCurrentPage,\r\n  setTotalItemsCount,\r\n  toggleFollowingProgress,\r\n  requestUsers,\r\n  follow,\r\n  unfollow,\r\n} from \"../../Redux/usersReducer\";\r\nimport { withAuthRedirect } from \"../hoc/withAuthRedirect\";\r\nimport { compose } from \"redux\";\r\nimport {\r\n  getUsers,\r\n  getPageSize,\r\n  getTotalItemsCount,\r\n  getCurrentPage,\r\n  getIsFetching,\r\n  getFollowingInProgress,\r\n} from \"../../Redux/UsersSelectors\";\r\n\r\nclass UsersContainer extends React.Component {\r\n\r\n  componentDidMount = () => {\r\n    const {currentPage, pageSize} = this.props\r\n    this.props.getUsers(currentPage, pageSize);\r\n  };\r\n\r\n  onPageChanged = (pageNumber) => {\r\n    const {pageSize} = this.props\r\n    this.props.getUsers(pageNumber, pageSize);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Users\r\n        users={this.props.users}\r\n        pageSize={this.props.pageSize}\r\n        totalItemsCount={this.props.totalItemsCount}\r\n        currentPage={this.props.currentPage}\r\n        onPageChanged={this.onPageChanged}\r\n        isFetching={this.props.isFetching}\r\n        follow={this.props.follow}\r\n        unfollow={this.props.unfollow}\r\n        followingInProgress={this.props.followingInProgress}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    users: getUsers(state),\r\n    pageSize: getPageSize(state),\r\n    totalItemsCount: getTotalItemsCount(state),\r\n    currentPage: getCurrentPage(state),\r\n    isFetching: getIsFetching(state),\r\n    followingInProgress: getFollowingInProgress(state),\r\n  };\r\n};\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, {\r\n    follow,\r\n    unfollow,\r\n    setCurrentPage,\r\n    setTotalUsersCount: setTotalItemsCount,\r\n    toggleFollowingProgress,\r\n    getUsers: requestUsers,\r\n  }),\r\n  withAuthRedirect\r\n)(UsersContainer);\r\n","import React from 'react';\r\nimport styles from'./Header.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst Header = ({isAuth, logout, login}) => {\r\n  return (\r\n    <header className={styles.header}>\r\n      <img src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/4/4a/Inkscape.logo.svg/390px-Inkscape.logo.svg.png\" alt=\"background\"/>\r\n      <h1 className={styles.mainTitle}>Friends</h1>\r\n      <div className={styles.loginBlock}>\r\n        { isAuth\r\n        ? <div>\r\n            <p className={styles.loginName}>Login: {login}</p>\r\n            <button onClick={logout}>Logout</button>\r\n          </div>\r\n        : <NavLink to={'/login'}>Login</NavLink> }\r\n      </div>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header;","import { authAPI } from \"./api/api\";\r\nimport { stopSubmit } from \"redux-form\";\r\n\r\nconst SET_AUTH_USER_DATA = 'auth/SET_AUTH_USER_DATA' \r\n\r\nlet initialState = {\r\n  userId: null,\r\n  email: null,\r\n  login: null,\r\n  isAuth: false\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_AUTH_USER_DATA:\r\n      return {\r\n        ...state,\r\n        ...action.payload,\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) => \r\n  ({type: SET_AUTH_USER_DATA, payload: {userId, email, login, isAuth}})\r\n\r\n\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n  const response = await authAPI.authMe();\r\n  \r\n  if (response.resultCode === 0) {\r\n    let { id, email, login } = response.data;\r\n    dispatch(setAuthUserData(id, email, login, true));\r\n  }\r\n} \r\n\r\n\r\nexport const login = (email, password, rememberMe) => async dispatch => {\r\n  const response = await authAPI.login(email, password, rememberMe)\r\n  \r\n  if (response.data.resultCode === 0) {\r\n      dispatch(getAuthUserData())\r\n  } else {\r\n    let message = response.data.messages.length > 0 ? response.data.messages[0] : \"some error\"\r\n    dispatch(stopSubmit(\"login\", {_error: message}))\r\n  }\r\n} \r\n\r\nexport const logout = () => async dispatch => {\r\n  \r\n  const response = await authAPI.logout()\r\n\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(setAuthUserData(null, null, null, false))\r\n  }\r\n} \r\n\r\nexport default authReducer","import React from 'react';\r\nimport Header from './Header';\r\nimport { connect } from 'react-redux';\r\nimport { logout } from '../../Redux/authReducer'\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n  render() {\r\n    return (\r\n      <Header {...this.props} />\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  isAuth: state.auth.isAuth,\r\n  login: state.auth.login\r\n})\r\n\r\nexport default connect(mapStateToProps, {logout})(HeaderContainer);","import React from 'react'\r\nimport { reduxForm, Field } from 'redux-form'\r\nimport { FormElement } from '../FormsControl/FormsControl'\r\nimport { required, maxLength } from '../../utilities/validators'\r\nimport { Redirect } from 'react-router-dom'\r\nimport styles from '../FormsControl/FormsControl.module.css'\r\n\r\nconst Input = FormElement('input')\r\nconst maxLength30 = maxLength(30)\r\n\r\nconst LoginForm = ({handleSubmit, error}) => {\r\n  return (\r\n    <form onSubmit={handleSubmit} >\r\n        <div>\r\n          <Field placeholder={\"Email\"} name={\"email\"} component={Input} \r\n            validate={[required, maxLength30]}\r\n          />\r\n        </div>\r\n        <div>\r\n          <Field type=\"password\" placeholder={\"Password\"} name={\"password\"} component={Input} \r\n            validate={[required]}\r\n          />\r\n        </div>\r\n        <div>\r\n          <Field component={Input} name={\"rememberMe\"} type=\"checkbox\"/><span>remember me</span> \r\n        </div>\r\n        {error && <div className={styles.formSummaryError}>\r\n          {error}\r\n        </div>}\r\n        <div>\r\n          <button>Login</button>\r\n        </div>\r\n      </form>\r\n  )\r\n}\r\n\r\n\r\nconst LoginReduxForm = reduxForm({ form: 'login' })(LoginForm)\r\n\r\nconst Login = ({login, isAuth}) => {\r\n  const onSubmit = (formData) => {\r\n    let {email, password, rememberMe} = formData\r\n    login(email, password, rememberMe)\r\n  }\r\n\r\n  if (isAuth) {\r\n    return <Redirect to=\"/profile\" />\r\n  } else  {\r\n    return (\r\n      <div>\r\n        <h1>Login</h1>\r\n        <LoginReduxForm onSubmit={onSubmit} />\r\n      </div>\r\n    )\r\n  }\r\n\r\n}\r\n\r\nexport default Login\r\n","import { connect } from 'react-redux'\r\nimport { login } from '../../Redux/authReducer'\r\nimport Login from './Login'\r\n\r\nconst mapStateToProps = state => ({isAuth: state.auth.isAuth}) \r\n\r\nexport default connect(mapStateToProps, {login})(Login)","import { getAuthUserData } from \"./authReducer\";\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS' \r\n\r\nlet initialState = {\r\n  initialized: false\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case INITIALIZED_SUCCESS:\r\n      return {\r\n        ...state,\r\n        initialized: true\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const initializedSuccess = () => ({type: INITIALIZED_SUCCESS})\r\n\r\n\r\nexport const initializeApp = () => async dispatch => {\r\n  let promise = await dispatch(getAuthUserData())\r\n  await Promise.all([promise])\r\n  dispatch(initializedSuccess())\r\n} \r\n\r\nexport default appReducer","let initialState = {\r\n}\r\n\r\nconst navbarReducer = (state = initialState, action) => {\r\n  return state;\r\n}\r\n\r\nexport default navbarReducer","let initialState = {\r\n}\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n  return state;\r\n}\r\n\r\nexport default sidebarReducer;","import { createStore, combineReducers, applyMiddleware, compose } from \"redux\";\r\nimport profileReducer from \"./profileReducer\";\r\nimport dialogsReducer from \"./dialogsReducer\";\r\nimport navbarReducer from \"./navbarReducer\";\r\nimport sidebarReducer from \"./sidebarReducer\";\r\nimport usersReducer from \"./usersReducer\";\r\nimport authReducer from \"./authReducer\";\r\nimport thunk from \"redux-thunk\"\r\nimport { reducer as formReducer } from \"redux-form\";\r\nimport appReducer from \"./appReducer\";\r\n\r\n\r\nlet reducers = combineReducers({\r\n  profilePage: profileReducer,\r\n  dialogsPage: dialogsReducer,\r\n  navbarPage: navbarReducer,\r\n  sidebarPage: sidebarReducer,\r\n  usersPage: usersReducer,\r\n  auth: authReducer,\r\n  form: formReducer,\r\n  app: appReducer\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(\r\n  reducers, composeEnhancers(applyMiddleware(thunk)));\r\n// let store = createStore(reducers, applyMiddleware(thunk));\r\nexport default store\r\n","import React, { Suspense } from 'react'\r\nimport Preloader from '../common/Preloader/Preloader'\r\n\r\nconst withSuspense = Component => props => {\r\n  return (\r\n    <Suspense fallback={<Preloader />}>\r\n      <Component {...props}/>\r\n    </Suspense>\r\n  )\r\n}\r\n\r\nexport default withSuspense","import React from 'react';\nimport './App.css';\nimport { Route, withRouter, BrowserRouter } from 'react-router-dom';\nimport Music from './Components/Music/Music';\nimport News from './Components/News/News';\nimport Options from './Components/Options/Options';\nimport Navbar from './Components/Navbar/Navbar';\nimport Users from './Components/Users/UsersContainer';\nimport HeaderContainer from './Components/Header/HeaderContainer';\nimport Login from './Components/Login/LoginContainer';\nimport { connect, Provider } from 'react-redux';\nimport {initializeApp} from './Redux/appReducer'\nimport { compose } from 'redux';\nimport Preloader from './Components/common/Preloader/Preloader';\nimport store from './Redux/redux-store';\nimport withSuspense from './Components/hoc/withSuspense';\n\nconst DialogsContainer = React.lazy(() => import('./Components/Dialogs/DialogsContainer'))\nconst ProfileContainer = React.lazy(() => import('./Components/Profile/ProfileContainer'))\n\nclass App extends React.Component {\n  componentDidMount() {\n    this.props.initializeApp()\n  }\n\n  render() {\n    if (!this.props.initialized) return <Preloader />\n    return (\n      <div className='app-wrapper'>\n        <HeaderContainer />\n        <Navbar />\n        <div className='app-wrapper-content'>\n          <Route path='/profile/:userId?' \n                render={withSuspense(ProfileContainer) }\n          />\n          <Route path='/dialogs' \n                render={withSuspense(DialogsContainer) }\n          />\n          <Route path='/news' render={() => <News /> } />\n          <Route path='/music' render={() => <Music /> } />\n          <Route path='/settings' render={() => <Options /> } />\n          <Route path='/users' render={() => <Users /> } /> \n          <Route path='/login' render={() => <Login /> } /> \n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => ({initialized: state.app.initialized}) \n\nlet AppContainer = compose(\n  withRouter, \n  connect(mapStateToProps, {initializeApp}))(App)\n\n\nconst MainApp = (props) => {\n  return (\n    <BrowserRouter basename={process.env.PUBLIC_URL}>\n    <Provider store={store}>\n      <AppContainer />\n    </Provider>\n  </BrowserRouter>\n  )\n}\n\nexport default MainApp","import * as serviceWorker from './serviceWorker';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport MainApp from './App';\n\n\nReactDOM.render(\n  <MainApp />,\n  document.getElementById('root')\n);\n\nserviceWorker.unregister();\n","import React from \"react\";\r\nimport preloader from \"../../../assets/preloader.gif\";\r\nimport styles from \"./Preloader.module.css\";\r\n\r\nlet Preloader = (props) => {\r\n  return (\r\n    <div className={styles.preloader}>\r\n      <img src={preloader} alt=\"\" />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Preloader;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControl_formControl__2157c\",\"error\":\"FormsControl_error__3WUbA\",\"formSummaryError\":\"FormsControl_formSummaryError__2_bCw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3Mcrm\",\"mainTitle\":\"Header_mainTitle__MhfWw\",\"loginBlock\":\"Header_loginBlock__691tf\"};","export const required = value => {\r\n  if (value) return undefined\r\n  return 'Field is required'\r\n  \r\n}\r\n\r\nexport const maxLength = (maxLength) => (value) => {\r\n    return value && value.length > maxLength ? `Max length is ${maxLength} symbols` : undefined\r\n}\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__Hcoxx\",\"buttonVisible\":\"Paginator_buttonVisible__in4ZZ\",\"selectedPage\":\"Paginator_selectedPage__29ebu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userProfile\":\"user_userProfile__2n83y\",\"avatar\":\"user_avatar__2rsbK\",\"description\":\"user_description__3rbx6\"};","import React from 'react'\r\nimport styles from './FormsControl.module.css'\r\n\r\nexport const FormElement = Element => ({input, meta: {touched, error}, type}) => {\r\n  const hasError = touched && error\r\n  return (\r\n    <div className={styles.formControl + ' ' + (hasError ? styles.error : \"\")}>\r\n      <Element \r\n        {...input}\r\n        type={type} \r\n      />\r\n      {hasError && <span>{error}</span>}\r\n    </div> \r\n  )\r\n}\r\n","import { profileAPI } from \"./api/api\";\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst UPDATE_NEW_POST_TEXT = 'UPDATE-NEW-POST-TEXT'\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE'\r\nconst SET_STATUS = 'SET_STATUS'\r\nconst DELETE_POST = 'DELETE_POST'\r\n\r\nlet initialState = {\r\n  posts: [\r\n    {id: 1, message: 'Hi, how are you?', likesCount: 12},\r\n    {id: 2, message: 'It\\'s my first post', likesCount: 20},\r\n  ],\r\n  profile: null,\r\n  status: ''\r\n}\r\n\r\nlet id = 3;\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n\r\n  switch(action.type) {\r\n    case ADD_POST: \r\n      return {\r\n        ...state,\r\n        posts: [...state.posts, {id: ++id, message: action.newText, likesCount: 10}],\r\n      }\r\n\r\n    case SET_USER_PROFILE: \r\n      return {\r\n        ...state,\r\n        profile: action.profile\r\n      }\r\n    case SET_STATUS: \r\n      return {\r\n        ...state,\r\n        status: action.status\r\n      }\r\n\r\n    case DELETE_POST:\r\n      return {\r\n        ...state,\r\n        posts: state.posts.filter(post => post.id !== action.postId)\r\n      }\r\n    default: \r\n      return state;\r\n  }\r\n}\r\n\r\nexport const deletePost = postId => ({type: DELETE_POST, postId})\r\nexport const addPost = (newText) => ({ type: ADD_POST, newText })\r\nexport const updateNewPostText = text => ({ type: UPDATE_NEW_POST_TEXT, newText: text }) \r\nexport const setStatus = status => ({ type: SET_STATUS, status })\r\nconst setUserProfile = profile => ({ type: SET_USER_PROFILE, profile })\r\n\r\nexport const getUserProfile =  userId => async dispatch => {\r\n  const data = await profileAPI.getProfile(userId)\r\n  dispatch(setUserProfile(data));\r\n}\r\n\r\nexport const getStatus = userId => async dispatch => {\r\n  const response = await profileAPI.getStatus(userId)\r\n  dispatch(setStatus(response.data))\r\n}\r\n\r\nexport const updateStatus = status => async dispatch => {\r\n  let response = await profileAPI.updateStatus(status)\r\n  if (response.data.resultCode === 0) {\r\n    dispatch(setStatus(status))\r\n  }\r\n}\r\n\r\nexport default profileReducer\r\n","module.exports = __webpack_public_path__ + \"static/media/avatar.2e81f97e.png\";"],"sourceRoot":""}